{"version":3,"sources":["../../server/middlewares/bookingMiddleware.js"],"names":["BookingCreateSchema","BookingSchema","BookingMiddleware","req","res","next","Object","keys","body","length","status","json","message","Joi","validate","then","err","details"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;IAEQA,mB,GAAwBC,4B,CAAxBD,mB;AAER;;;;;;IAKME,iB;;;;;;;;;;AACJ;;;;;;;;AAQA;0CAC6BC,G,EAAKC,G,EAAKC,I,EAAM;AAC3C,UAAIC,MAAM,CAACC,IAAP,CAAYJ,GAAG,CAACK,IAAhB,EAAsBC,MAAtB,KAAiC,CAArC,EAAwC;AACtC,eAAOL,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,UAAAA,MAAM,EAAE,GADkB;AAE1BE,UAAAA,OAAO,EAAE;AAFiB,SAArB,CAAP;AAID;;AACDC,sBAAIC,QAAJ,CAAaX,GAAG,CAACK,IAAjB,EAAuBR,mBAAvB,EACGe,IADH,CACQ;AAAA,eAAMV,IAAI,EAAV;AAAA,OADR,WAES,UAAAW,GAAG;AAAA,eAAIZ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjCD,UAAAA,MAAM,EAAE,GADyB;AAEjCE,UAAAA,OAAO,EAAEI,GAAG,CAACC,OAAJ,CAAY,CAAZ,EAAeL;AAFS,SAArB,CAAJ;AAAA,OAFZ;AAMD;;;;;;eAEYV,iB","sourcesContent":["import Joi from 'joi';\nimport BookingSchema from '../utilities/bookingValidator';\n\nconst { BookingCreateSchema } = BookingSchema;\n\n/**\n *\n * @exports\n * @class BookingMiddleware\n */\nclass BookingMiddleware {\n  /**\n   * BookingMiddleware\n   * @staticmethod  BookingValidateData\n   * @param  {object} req - Request object\n   * @param {object} res - Response object\n   * @param {function} next - middleware next (for error handling)\n   * @return {json} res.json\n   */\n  // eslint-disable-next-line consistent-return\n  static BookingCreateValidate(req, res, next) {\n    if (Object.keys(req.body).length === 0) {\n      return res.status(400).json({\n        status: 400,\n        message: 'Please fill all fields',\n      });\n    }\n    Joi.validate(req.body, BookingCreateSchema)\n      .then(() => next())\n      .catch(err => res.status(400).json({\n        status: 400,\n        message: err.details[0].message,\n      }));\n  }\n}\nexport default BookingMiddleware;\n"],"file":"bookingMiddleware.js"}