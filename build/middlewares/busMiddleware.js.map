{"version":3,"sources":["../../server/middlewares/busMiddleware.js"],"names":["BusCreateSchema","BusSchema","BusMiddleware","req","res","next","Object","keys","body","length","status","json","message","Joi","validate","then","err","details"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;IAEQA,e,GAAoBC,wB,CAApBD,e;AAER;;;;;;IAKME,a;;;;;;;;;;AACJ;;;;;;;;AAQA;sCACyBC,G,EAAKC,G,EAAKC,I,EAAM;AACvC,UAAIC,MAAM,CAACC,IAAP,CAAYJ,GAAG,CAACK,IAAhB,EAAsBC,MAAtB,KAAiC,CAArC,EAAwC;AACtC,eAAOL,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,UAAAA,MAAM,EAAE,GADkB;AAE1BE,UAAAA,OAAO,EAAE;AAFiB,SAArB,CAAP;AAID;;AACDC,sBAAIC,QAAJ,CAAaX,GAAG,CAACK,IAAjB,EAAuBR,eAAvB,EACGe,IADH,CACQ;AAAA,eAAMV,IAAI,EAAV;AAAA,OADR,WAES,UAAAW,GAAG;AAAA,eAAIZ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjCD,UAAAA,MAAM,EAAE,GADyB;AAEjCE,UAAAA,OAAO,EAAEI,GAAG,CAACC,OAAJ,CAAY,CAAZ,EAAeL;AAFS,SAArB,CAAJ;AAAA,OAFZ;AAMD;;;;;;eAEYV,a","sourcesContent":["import Joi from 'joi';\nimport BusSchema from '../utilities/busValidator';\n\nconst { BusCreateSchema } = BusSchema;\n\n/**\n *\n * @exports\n * @class UserMiddleware\n */\nclass BusMiddleware {\n  /**\n   * UserMiddleware\n   * @staticmethod  userValidateData\n   * @param  {object} req - Request object\n   * @param {object} res - Response object\n   * @param {function} next - middleware next (for error handling)\n   * @return {json} res.json\n   */\n  // eslint-disable-next-line consistent-return\n  static BusCreateValidate(req, res, next) {\n    if (Object.keys(req.body).length === 0) {\n      return res.status(400).json({\n        status: 400,\n        message: 'Please fill all fields',\n      });\n    }\n    Joi.validate(req.body, BusCreateSchema)\n      .then(() => next())\n      .catch(err => res.status(400).json({\n        status: 400,\n        message: err.details[0].message,\n      }));\n  }\n}\nexport default BusMiddleware;\n"],"file":"busMiddleware.js"}