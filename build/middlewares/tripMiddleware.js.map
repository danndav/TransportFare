{"version":3,"sources":["../../server/middlewares/tripMiddleware.js"],"names":["TripCreateSchema","TripSchema","tripUpdateStatusSchema","TripMiddleware","req","res","next","Object","keys","body","length","status","json","message","Joi","validate","then","err","details"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;IAEQA,gB,GAA6CC,yB,CAA7CD,gB;IAAkBE,sB,GAA2BD,yB,CAA3BC,sB;AAE1B;;;;;;IAKMC,c;;;;;;;;;;AACJ;;;;;;;;AAQA;uCAC0BC,G,EAAKC,G,EAAKC,I,EAAM;AACxC,UAAIC,MAAM,CAACC,IAAP,CAAYJ,GAAG,CAACK,IAAhB,EAAsBC,MAAtB,KAAiC,CAArC,EAAwC;AACtC,eAAOL,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,UAAAA,MAAM,EAAE,GADkB;AAE1BE,UAAAA,OAAO,EAAE;AAFiB,SAArB,CAAP;AAID;;AACDC,sBAAIC,QAAJ,CAAaX,GAAG,CAACK,IAAjB,EAAuBT,gBAAvB,EACGgB,IADH,CACQ;AAAA,eAAMV,IAAI,EAAV;AAAA,OADR,WAES,UAAAW,GAAG;AAAA,eAAIZ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjCD,UAAAA,MAAM,EAAE,GADyB;AAEjCE,UAAAA,OAAO,EAAEI,GAAG,CAACC,OAAJ,CAAY,CAAZ,EAAeL;AAFS,SAArB,CAAJ;AAAA,OAFZ;AAMD;AAED;;;;;;;;AAQA;;;;qCACwBT,G,EAAKC,G,EAAKC,I,EAAM;AACtC,UAAIC,MAAM,CAACC,IAAP,CAAYJ,GAAG,CAACK,IAAhB,EAAsBC,MAAtB,KAAiC,CAArC,EAAwC;AACtC;AACA,eAAOL,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,UAAAA,MAAM,EAAE,GADkB;AAE1BE,UAAAA,OAAO,EAAE;AAFiB,SAArB,CAAP;AAID;;AACDC,sBAAIC,QAAJ,CAAaX,GAAG,CAACK,IAAjB,EAAuBP,sBAAvB;AACA;AADA,OAEGc,IAFH,CAEQ;AAAA,eAAMV,IAAI,EAAV;AAAA,OAFR,WAGS,UAAAW,GAAG;AAAA,eAAIZ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjCD,UAAAA,MAAM,EAAE,GADyB;AAEjCE,UAAAA,OAAO,EAAEI,GAAG,CAACC,OAAJ,CAAY,CAAZ,EAAeL;AAFS,SAArB,CAAJ;AAAA,OAHZ;AAOD;;;;;;eAEYV,c","sourcesContent":["import Joi from 'joi';\nimport TripSchema from '../utilities/tripValidator';\n\nconst { TripCreateSchema, tripUpdateStatusSchema } = TripSchema;\n\n/**\n *\n * @exports\n * @class TripMiddleware\n */\nclass TripMiddleware {\n  /**\n   * TripMiddleware\n   * @staticmethod  TripValidateData\n   * @param  {object} req - Request object\n   * @param {object} res - Response object\n   * @param {function} next - middleware next (for error handling)\n   * @return {json} res.json\n   */\n  // eslint-disable-next-line consistent-return\n  static TripCreateValidate(req, res, next) {\n    if (Object.keys(req.body).length === 0) {\n      return res.status(400).json({\n        status: 400,\n        message: 'Please fill all fields',\n      });\n    }\n    Joi.validate(req.body, TripCreateSchema)\n      .then(() => next())\n      .catch(err => res.status(400).json({\n        status: 400,\n        message: err.details[0].message,\n      }));\n  }\n\n  /**\n   * TripMiddleware\n   * @staticmethod  TripUpdateStatus\n   * @param  {object} req - Request object\n   * @param {object} res - Response object\n   * @param {function} next - middleware next (for error handling)\n   * @return {json} res.json\n   */\n  // eslint-disable-next-line consistent-return\n  static TripUpdateStatus(req, res, next) {\n    if (Object.keys(req.body).length === 0) {\n      /* istanbul ignore next-line */\n      return res.status(400).json({\n        status: 400,\n        message: 'Please fill all fields',\n      });\n    }\n    Joi.validate(req.body, tripUpdateStatusSchema)\n    /* istanbul ignore next-line */\n      .then(() => next())\n      .catch(err => res.status(400).json({\n        status: 400,\n        message: err.details[0].message,\n      }));\n  }\n}\nexport default TripMiddleware;\n"],"file":"tripMiddleware.js"}