{"version":3,"sources":["../../server/middlewares/userMiddleware.js"],"names":["userSignupSchema","userSchema","userSigninSchema","Middleware","req","res","next","Object","keys","body","length","status","json","message","Joi","validate","then","err","details"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;IAEQA,gB,GAAuCC,yB,CAAvCD,gB;IAAkBE,gB,GAAqBD,yB,CAArBC,gB;AAE1B;;;;;;IAKMC,U;;;;;;;;;;AACJ;;;;;;;;AAQA;uCAC0BC,G,EAAKC,G,EAAKC,I,EAAM;AACxC,UAAIC,MAAM,CAACC,IAAP,CAAYJ,GAAG,CAACK,IAAhB,EAAsBC,MAAtB,KAAiC,CAArC,EAAwC;AACtC,eAAOL,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,UAAAA,MAAM,EAAE,GADkB;AAE1BE,UAAAA,OAAO,EAAE;AAFiB,SAArB,CAAP;AAID;;AACDC,sBAAIC,QAAJ,CAAaX,GAAG,CAACK,IAAjB,EAAuBT,gBAAvB,EACGgB,IADH,CACQ;AAAA,eAAMV,IAAI,EAAV;AAAA,OADR,WAES,UAAAW,GAAG;AAAA,eAAIZ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjCD,UAAAA,MAAM,EAAE,GADyB;AAEjCE,UAAAA,OAAO,EAAEI,GAAG,CAACC,OAAJ,CAAY,CAAZ,EAAeL;AAFS,SAArB,CAAJ;AAAA,OAFZ;AAMD;AAED;;;;;;;;AAQA;;;;sCACyBT,G,EAAKC,G,EAAKC,I,EAAM;AACvC,UAAIC,MAAM,CAACC,IAAP,CAAYJ,GAAG,CAACK,IAAhB,EAAsBC,MAAtB,KAAiC,CAArC,EAAwC;AACtC,eAAOL,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,UAAAA,MAAM,EAAE,GADkB;AAE1BE,UAAAA,OAAO,EAAE;AAFiB,SAArB,CAAP;AAID;;AACDC,sBAAIC,QAAJ,CAAaX,GAAG,CAACK,IAAjB,EAAuBP,gBAAvB,EACGc,IADH,CACQ;AAAA,eAAMV,IAAI,EAAV;AAAA,OADR,WAES,UAAAW,GAAG;AAAA,eAAIZ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjCD,UAAAA,MAAM,EAAE,GADyB;AAEjCE,UAAAA,OAAO,EAAEI,GAAG,CAACC,OAAJ,CAAY,CAAZ,EAAeL;AAFS,SAArB,CAAJ;AAAA,OAFZ;AAMD;;;;;;eAEYV,U","sourcesContent":["import Joi from 'joi';\nimport userSchema from '../utilities/userValidator';\n\nconst { userSignupSchema, userSigninSchema } = userSchema;\n\n/**\n *\n * @exports\n * @class UserMiddleware\n */\nclass Middleware {\n  /**\n   * UserMiddleware\n   * @staticmethod  userValidateData\n   * @param  {object} req - Request object\n   * @param {object} res - Response object\n   * @param {function} next - middleware next (for error handling)\n   * @return {json} res.json\n   */\n  // eslint-disable-next-line consistent-return\n  static userSignupValidate(req, res, next) {\n    if (Object.keys(req.body).length === 0) {\n      return res.status(400).json({\n        status: 400,\n        message: 'Please fill all fields',\n      });\n    }\n    Joi.validate(req.body, userSignupSchema)\n      .then(() => next())\n      .catch(err => res.status(400).json({\n        status: 400,\n        message: err.details[0].message,\n      }));\n  }\n\n  /**\n   * UserMiddleware\n   * @staticmethod  userValidateData\n   * @param  {object} req - Request object\n   * @param {object} res - Response object\n   * @param {function} next - middleware next (for error handling)\n   * @return {json} res.json\n   */\n  // eslint-disable-next-line consistent-return\n  static userLoginValidate(req, res, next) {\n    if (Object.keys(req.body).length === 0) {\n      return res.status(400).json({\n        status: 400,\n        message: 'Please fill all fields',\n      });\n    }\n    Joi.validate(req.body, userSigninSchema)\n      .then(() => next())\n      .catch(err => res.status(400).json({\n        status: 400,\n        message: err.details[0].message,\n      }));\n  }\n}\nexport default Middleware;\n"],"file":"userMiddleware.js"}