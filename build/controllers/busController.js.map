{"version":3,"sources":["../../server/controllers/busController.js"],"names":["BusController","req","res","userId","userData","id","BusService","saveBus","body","then","data","status","json","message","err","rowCount"],"mappings":";;;;;;;AAAA;;;;;;;;;;AAEA;;;;IAIMA,a;;;;;;;;;;AACJ;;;;;;;8BAOiBC,G,EAAKC,G,EAAK;AACzB,UAAMC,MAAM,GAAGF,GAAG,CAACG,QAAJ,CAAaC,EAA5B;;AACAC,8BACGC,OADH,CACWN,GAAG,CAACO,IADf,EACqBL,MADrB,EAEGM,IAFH,CAEQ,UAAAC,IAAI;AAAA,eAAIR,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjCD,UAAAA,MAAM,EAAE,GADyB;AAEjCD,UAAAA,IAAI,EAAJA,IAFiC;AAGjCG,UAAAA,OAAO,EAAE;AAHwB,SAArB,CAAJ;AAAA,OAFZ,WAOS,UAACC,GAAD,EAAS;AAAE;AAChB,YAAIA,GAAG,CAACC,QAAJ,IAAgB,CAApB,EAAuB;AACrB,iBAAOb,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,YAAAA,MAAM,EAAE,GADkB;AAE1BE,YAAAA,OAAO,EAAE;AAFiB,WAArB,CAAP;AAID;AACD;;;AACA,eAAOX,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,UAAAA,OAAO,EAAE;AADiB,SAArB,CAAP;AAGD,OAlBH;AAmBD;;;;;;eAGYb,a","sourcesContent":["import BusService from '../utilities/services/busServices';\n\n/**\n * @exports\n * @class BusController\n */\nclass BusController {\n  /**\n     * Creates a Bus\n     * @staticmethod\n     * @param  {object} req - user object\n     * @param {object} res - Response object\n     * @return {json} res.json\n     */\n  static createBus(req, res) {\n    const userId = req.userData.id;\n    BusService\n      .saveBus(req.body, userId)\n      .then(data => res.status(201).json({\n        status: 201,\n        data,\n        message: 'New Bus created successfully',\n      }))\n      .catch((err) => { /* istanbul ignore next-line */\n        if (err.rowCount >= 1) {\n          return res.status(400).json({\n            status: 400,\n            message: 'Bus with this platenumber exists already',\n          });\n        }\n        /* istanbul ignore next-line */\n        return res.status(400).json({\n          message: 'Could not create buses',\n        });\n      });\n  }\n}\n\nexport default BusController;\n"],"file":"busController.js"}